@model AgroEcommerceLibrary.Buyer.Buyer

@{
    ViewBag.Title = "ShowProdDetails";
    Layout = "~/Views/Shared/Buyer_Layout.cshtml";
}

@*-------------- Image carousel CSS------------*@
<style>

    body {
        line-height: 1.5;
    }

    /* img {
        width: 100%;
        display: block;
    }*/

    .img-display {
        overflow: hidden;
    }

    .img-showcase {
        display: flex;
        width: 100%;
        transition: all 0.5s ease;
    }

        .img-showcase img {
            min-width: 100%;
        }

    .img-select {
        display: flex;
        width: 100%;
        height: 100%;
    }

    .img-item {
        margin: 0.3rem;
        width: 100%;
        height: 100%;
    }

        .img-item:nth-child(1),
        .img-item:nth-child(2),
        .img-item:nth-child(3) {
            margin-right: 0;
        }

        .img-item:hover {
            opacity: 0.8;
        }
</style>


<div class="shop-detail-box-main">
    <div class="container">



        @foreach (var item in Model.products)
        {
            <div class="row">
                <div class="col-xl-5 col-lg-5 col-md-6">
                    <div id="carousel-example-1" class="single-product-slider carousel slide" data-ride="carousel">
                        <div class="carousel-inner" role="listbox">
                            @*<div class="carousel-item active"> <img class="d-block w-100" src="@Url.Content(item.MainImage)" alt="First slide"> </div>*@
                            <!--<div class="carousel-item active"> <img class="d-block w-100" style="width:325px; height:350px" src="~/Content/Images/Product/@item.MainImage" alt="First slide"> </div>
                            <div class="carousel-item"> <img class="d-block w-100" src="~/Content/Images/Product/@item.Image1" alt="Second slide"> </div>
                            <div class="carousel-item"> <img class="d-block w-100" src="images/big-img-03.jpg" alt="Third slide"> </div>-->


                            <div class="product-imgs">
                                <div class="img-display">
                                    <div class="img-showcase">
                                        <img style="width:250px;height:350px;" src="~/Content/Images/Product/@item.MainImage" alt="Product image">
                                        <img style="width:250px;height:350px;" src="~/Content/Images/Product/@item.Image1" alt="Product image">
                                        <img style="width:250px;height:350px;" src="~/Content/Images/Product/@item.Image2" alt="Product image">
                                        <img style="width:250px;height:350px;" src="~/Content/Images/Product/@item.Image3" alt="Product image">
                                    </div>
                                </div>
                                <div class="img-select">
                                    <div class="img-item">
                                        <a href="#" data-id="1">
                                            <img style="width:100px;height:75px;" src="~/Content/Images/Product/@item.MainImage" alt="Product image">
                                        </a>
                                    </div>
                                    <div class="img-item">
                                        <a href="#" data-id="2">
                                            <img style="width: 100px; height: 75px;" src="~/Content/Images/Product/@item.Image1" alt="Product image">
                                        </a>
                                    </div>
                                    <div class="img-item">
                                        <a href="#" data-id="3">
                                            <img style="width: 100px; height: 75px;" src="~/Content/Images/Product/@item.Image2" alt="Product image">
                                        </a>
                                    </div>
                                    <div class="img-item">
                                        <a href="#" data-id="4">
                                            <img style="width: 100px; height: 75px;" src="~/Content/Images/Product/@item.Image3" alt="Product image">
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
                <div class="col-xl-7 col-lg-7 col-md-6">
                    <div class="single-product-details">
                        <h2>@item.ProductName</h2>
                        <h5> @*<del>60.00</del>*@₹@item.MRP</h5>
                        @*<p class="available-stock"><span> More than 20 available / <a href="#">8 sold </a></span><p>*@
                        <h4>Short Description:</h4>
                        <p>
                            @item.Description
                        </p>
                        <h4>
                            Product Weight : @item.ProductWeight
                        </h4>

                        @if (item.IsproductExpirable == true)
                        {
                            <h4> Product Expirable : Yes</h4>
                        }
                        @if (item.IsproductExpirable == false)
                        {
                            <h4>Product Expirable : No</h4>
                        }


                        @if (item.IsProductReturnable == true)
                        {
                            <h4> IsProductReturnable : Yes</h4>
                        }
                        @if (item.IsProductReturnable == false)
                        {
                            <h4>IsProductReturnable : No</h4>
                        }



                        <ul>
                            <li>
                                @*<div class="form-group quantity-box">
                                        <label class="control-label">Quantity</label>
                                        <input class="form-control" value="0" min="0" max="20" type="number">
                                    </div>*@
                            </li>
                        </ul>

                        <!--<div class="price-box-bar">
                        <div class="cart-and-bay-btn">-->
                        @*<a class="btn hvr-hover" data-fancybox-close="" href="#">Buy New</a>*@

                        @*@if (item.Quantity == 0)
                            {
                                <a class="cart" style="pointer-events:none;" href="#">Add to Cart</a>

                            }
                            else
                            {
                                <a class="btn hvr-hover AddToCart" data-fancybox-close="" data-id="@item.ProductCode" href="#">Add to cart</a>
                            }*@

                        @*</div>
                            </div>*@

                        <div class="add-to-btn">
                            <div class="add-comp">
                                <p class="Quantity" style="display:none;"> @item.Quantity</p>
                                <a class="btn hvr-hover addtowishlist" href="#" data-id="@item.ProductCode"><i class="fas fa-heart"></i> Add to wishlist</a>

                                @if (item.Quantity == 0)
                                {
                                    <a class="cart" style="pointer-events:none;" href="#">Add to Cart</a>

                                }
                                else
                                {
                                    <a class="btn hvr-hover AddToCart" data-fancybox-close="" data-id="@item.ProductCode" href="#">Add to cart</a>
                                }
                                @*<a class="btn hvr-hover" href="#"><i class="fas fa-sync-alt"></i> Add to Compare</a>*@
                            </div>
                            <div class="cart-and-bay-btn">
                                @*<a class="btn hvr-hover" data-fancybox-close="" href="#">Buy New</a>*@



                            </div>
                            <div class="share-bar">
                                <a class="btn hvr-hover" target="_blank" href="https://www.facebook.com/sharer.php?u= @Session["url"]/"><i class="fab fa-facebook" aria-hidden="true"></i></a>
                                @*<a class="btn hvr-hover" href="https://plus.google.com/share?url= @Session["url"]/"><i class="fab fa-google-plus" aria-hidden="true"></i></a>*@
                                @*<a class="btn hvr-hover" href="https://twitter.com/share?url= @Session["url"]"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                                    <a class="btn hvr-hover" href="https://pinterest.com/pin/create/bookmarklet/?&url= @Session["url"]"><i class="fab fa-pinterest-p" aria-hidden="true"></i></a>*@
                                <a class="btn hvr-hover" target="_blank" href="https://api.whatsapp.com/send?text= @Session["url"]/" data-action="share/whatsapp/share"><i class="fab fa-whatsapp" aria-hidden="true"></i></a>

                            </div>
                        </div>
                    </div>
                </div>





            </div>

        }
        <script src="~/Scripts/jquery-3.4.1.min.js"></script>
        <script type="text/javascript" src="~/Scripts/Buyer_js/AddToWishList.js"></script>
        <script src="~/Scripts/Buyer_js/AddToCart.js"></script>



        <script>
            const imgs = document.querySelectorAll('.img-select a');
            const imgBtns = [...imgs];
            let imgId = 1;

            imgBtns.forEach((imgItem) => {
                imgItem.addEventListener('click', (event) => {
                    event.preventDefault();
                    imgId = imgItem.dataset.id;
                    slideImage();
                });
            });

            function slideImage() {
                const displayWidth = document.querySelector('.img-showcase img:first-child').clientWidth;

                document.querySelector('.img-showcase').style.transform = `translateX(${- (imgId - 1) * displayWidth}px)`;
            }

            window.addEventListener('resize', slideImage);
        </script>



        <!-----Products Reviews ----->
        @*<div class="row my-5">
                <div class="card card-outline-secondary my-4">
                    <div class="card-header">
                        <h2>Product Reviews</h2>
                    </div>
                    <div class="card-body">
                        <div class="media mb-3">
                            <div class="mr-2">
                                <img class="rounded-circle border p-1" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160c142c97c%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160c142c97c%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2213.5546875%22%20y%3D%2236.5%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Generic placeholder image">
                            </div>
                            <div class="media-body">
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>
                                <small class="text-muted">Posted by Anonymous on 3/1/18</small>
                            </div>
                        </div>
                        <hr>
                        <div class="media mb-3">
                            <div class="mr-2">
                                <img class="rounded-circle border p-1" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160c142c97c%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160c142c97c%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2213.5546875%22%20y%3D%2236.5%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Generic placeholder image">
                            </div>
                            <div class="media-body">
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>
                                <small class="text-muted">Posted by Anonymous on 3/1/18</small>
                            </div>
                        </div>
                        <hr>
                        <div class="media mb-3">
                            <div class="mr-2">
                                <img class="rounded-circle border p-1" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_160c142c97c%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_160c142c97c%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2213.5546875%22%20y%3D%2236.5%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Generic placeholder image">
                            </div>
                            <div class="media-body">
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis et enim aperiam inventore, similique necessitatibus neque non! Doloribus, modi sapiente laboriosam aperiam fugiat laborum. Sequi mollitia, necessitatibus quae sint natus.</p>
                                <small class="text-muted">Posted by Anonymous on 3/1/18</small>
                            </div>
                        </div>
                        <hr>
                        <a href="#" class="btn hvr-hover">Leave a Review</a>
                    </div>
                </div>
            </div>*@

        <!-----Featured Products----->
        <div class="row my-5">
            <div class="col-lg-12">
                <div class="title-all text-center">
                    <h1>Releted Products</h1>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet lacus enim.</p>
                </div>
                <div class="featured-products-box owl-carousel owl-theme">

                    @foreach (var item in Model.CatProd)
                    {
                        <div class="item">

                            <div class="products-single fix">
                                <div class="box-img-hover">
                                    <img  style="width:325px; height:250px" src="~/Content/Images/Product/@item.MainImage" class="img-fluid" alt="Image">
                                    <p class="Quantity" style="display:none;">@item.Quantity</p>
                                    <div class="mask-icon">
                                        <ul>
                                            <li><a href="@Url.Action("ShowProdDetails", "Buyer", new { productcode = item.ProductCode })" data-toggle="tooltip" data-placement="right" title="View"><i class="fas fa-eye"></i></a></li>
                                            @*<li><a href="#" data-toggle="tooltip" data-placement="right" title="Compare"><i class="fas fa-sync-alt"></i></a></li>*@
                                            <li>
                                                <a class="btn hvr-hover addtowishlist" href="#" data-id="@item.ProductCode"><i class="fas fa-heart"></i></a>
                                            </li>
                                        </ul>
                                        @if (item.Quantity == 0)
                                        {

                                        }
                                        else
                                        {
                                            <a class="cart AddToCart" href="#" data-id="@item.ProductCode">
                                                Add To Cart
                                            </a>
                                        }
                                    </div>
                                </div>
                                <div class="why-text">
                                    <h4>@item.ProductName</h4>
                                    <h5>₹@item.MRP</h5>
                                </div>
                            </div>
                        </div>

                    }

                </div>
            </div>
        </div>

        <!----- end Featured Products----->


    </div>
</div>
<!-- End Cart -->