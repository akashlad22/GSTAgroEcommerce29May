@model AgroEcommerceLibrary.Admin.Admin

@{
    ViewBag.Title = "SubCategory1Approval";
    Layout = "~/Views/Shared/Admin_Layout.cshtml";
}

<h2 style="text-align:center;margin-top:15px">SubCategory1 Approval</h2>

<p style="margin-left:20px">
    @Html.ActionLink("Back To Home", "AdminIndex")
</p>
<main class="col-md-9 ms-sm-auto common col-lg-10 px-md-4">
    <table id="example" class="table table-bordered table-striped mt-4 dt-responsive nowrap table-responsive" style="text-align: center; margin-top: 10px">
        <thead>
            <tr>
                @*<th>
                        @Html.DisplayNameFor(model => model.EmailId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AlternateMobileNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Photo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Address)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CityId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PinCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.StatusId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Quantity)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Status)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SellerName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CategoryId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CategoryCode)
                    </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.SubCategory1Code)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.SubCategory1Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CategoryName)
                </th>

                @*<th>
                        @Html.DisplayNameFor(model => model.SubCategory2Code)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SubCategory2Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Commision)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FullName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MobileNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SellerId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SellerCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SellerFullName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.BusinessName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AadharNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AadharImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.BusinessAadharNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.BusinessAdharImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.BusinessPanNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.BusinessPanImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PanCardNo)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PanImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.GSTIN)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ProductCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ProductName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.OfficeAddress)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RejectionReason)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MRP)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MaximumStock)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MinimumStock)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MainImage)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IsProductReturnable)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IsProductExpirable)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ProductExpiryDuration)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ProductRegistrationDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ManufacturerName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ProductApprovalDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SellerApprovalDate)
                    </th>*@
                <th>Approve/Reject</th>
                @*<th>Action</th>*@
            </tr>
        </thead>
        <tbody class="infotbody">
            @if (Model.LstSubCat1.Count == 0)
            {
                <h2 style="text-align:center;color:red;">No Record Found</h2>

            }
            else
            {
                foreach (var item in Model.LstSubCat1)
                {
                    <tr>
                        @*<td>
                                @Html.DisplayFor(modelItem => item.EmailId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Password)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AlternateMobileNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Photo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Address)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CityId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PinCode)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StatusId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Quantity)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Status)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SellerName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CategoryId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CategoryCode)
                            </td>*@

                        <td>
                            @Html.DisplayFor(modelItem => item.SubCategory1Code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SubCategory1Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CategoryName)
                        </td>

                        @*<td>
                                @Html.DisplayFor(modelItem => item.SubCategory2Code)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SubCategory2Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Commision)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.FullName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MobileNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SellerId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SellerCode)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SellerFullName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AadharNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AadharImage)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessAadharNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessAdharImage)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessPanNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessPanImage)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PanCardNo)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PanImage)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.GSTIN)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductCode)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.OfficeAddress)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.RejectionReason)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MRP)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MaximumStock)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MinimumStock)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MainImage)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Description)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.IsProductReturnable)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.IsProductExpirable)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductExpiryDuration)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductRegistrationDate)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ManufacturerName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProductApprovalDate)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SellerApprovalDate)
                            </td>*@
                        <td style="text-align:center">
                            <button type="button" class="btn btn-success response border-warning" style="background:white">
                                <p style="font-size:20px;height:15px">
                                    <a class="approved" href="javascript:;" data-id="@item.SubCategory1Code">&#10004;</a>
                                </p>
                            </button>
                            <button type="button" style="margin-left: 10px; background: white" class="btn btn-danger response border-warning">
                                <p style="font-size:20px;height:15px">
                                    <a class="rejected" href="javascript:;" data-id="@item.SubCategory1Code">&#10008;</a>
                                </p>
                            </button>
                        </td>
                        <!--<td>-->
                            @*@Html.ActionLink("Edit", "Edit", new { id = item.AdminId }) |
                                @Html.ActionLink("Details", "Details", new { id = item.AdminId })*@
                            <!--<a class="SubCategory1Details" href="javascript:;" data-id="@item.SubCategory1Code">Details</a>-->
                            @*@Html.ActionLink("Delete", "Delete", new { id = item.AdminId })*@
                        <!--</td>-->
                    </tr>
                }
            }
        </tbody>

    </table>
</main>


<div id="partialModal1" class="modal" tabindex="-1" role="dialog" style="position:center">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-image:linear-gradient(#662D8C,#ED1E79)">
                <h3 class="modal-title" style="color:lightgreen;margin-left:80px">Sub-Category1 Details</h3>
            </div>
            <div class="modal-body">
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-secondary close" data-dismiss="modal">Close</button>
                </div>*@
        </div>
    </div>
</div>

<div id="partialModal2" class="modal" tabindex="-1" role="dialog" style="position:center">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-image:linear-gradient(#662D8C,#ED1E79)">
                <h3 class="modal-title" style="color:lightgreen;margin-left:100px">Category Approval</h3>
            </div>
            <div class="modal-body">
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-secondary close" data-dismiss="modal">Close</button>
                </div>*@
        </div>
    </div>
</div>

<div id="partialModal" class="modal" tabindex="-1" role="dialog" style="position:center">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-image:linear-gradient(#662D8C,#ED1E79)">
                <h3 class="modal-title" style="color:lightgreen;margin-left:100px">Category Rejection</h3>
            </div>
            <div class="modal-body">
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-secondary close" data-dismiss="modal">Close</button>
                </div>*@
        </div>
    </div>
</div>



<script src="~/Scripts/jquery-3.4.1.min.js"></script>
@*<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/bootstrap.js"></script>*@



@*<script type="text/javascript">
    $(function () {
        $(".SubCategory1Details").click(function () {
            debugger
            var $buttonClicked = $(this);
            var id = $buttonClicked.attr('data-id')
            /* var id = $(this).closest("tr").find("td").eq(0).html();*/
            $.ajax({
                type: "POST",
                url: "/Admin/SubCategory1Details",
                data: '{SubCategory1Code: "' + id + '" }',
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (response) {
                    $("#partialModal1").find(".modal-body").html(response);
                    $("#partialModal1").modal('show');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });
    });
</script>*@


<script type="text/javascript">
    $(function () {
        $(".approved").click(function () {
            var $buttonClicked = $(this);
            var id = $buttonClicked.attr('data-id')
            /* var id = $(this).closest("tr").find("td").eq(0).html();*/
            $.ajax({
                type: "GET",
                url: "/Admin/SubCategory1Approve", 
                data: { SubCategory1Code: id },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (response) {
                    $("#partialModal2").find(".modal-body").html(response);
                    $("#partialModal2").modal('show');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });
    });
</script>

<script type="text/javascript">
    $(function () {
        $(".rejected").click(function () {
            var $buttonClicked = $(this);
            var id = $buttonClicked.attr('data-id')
            /* var id = $(this).closest("tr").find("td").eq(0).html();*/
            $.ajax({
                type: "GET",
                url: "/Admin/SubCategory1Reject",
                data: { SubCategory1Code: id },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (response) {
                    $("#partialModal").find(".modal-body").html(response);
                    $("#partialModal").modal('show');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#example').DataTable({
            dom: 'Bfrtip',
            buttons: [
                    /*'copy', 'csv', 'excel', 'pdf', 'print'*/
            ]
        });
    });
</script>